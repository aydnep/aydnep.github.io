(self.webpackChunk_dcentralab_web3_wallet_connector=self.webpackChunk_dcentralab_web3_wallet_connector||[]).push([[9694],{97801:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAddress=void 0;const a=s(48764),n=s(30023),i=r(s(94483));class o extends i.default{constructor(e,t,s){super(e,t),this.stakeCredential=s,this.computeHex()}computeHex(){let e=0;if(this._paymentCredential.type===n.HashType.ADDRESS);else if(this._paymentCredential.type===n.HashType.SCRIPT){e|=16}if(this.stakeCredential.type===n.HashType.ADDRESS);else if(this.stakeCredential.type===n.HashType.SCRIPT){e|=32}e|=this.networkId;const t=`${e.toString(16).padStart(2,"0")}${this._paymentCredential.hash}${this.stakeCredential.hash}`;this.addressHex=t,this.addressBytes=a.Buffer.from(t,"hex"),this.addressBech32=this.computeBech32(this.addressBytes)}}t.BaseAddress=o,t.default=o},5027:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ByronAddress=void 0;const a=r(s(15177));class n{constructor(e){this.addressBech32=a.default.encode(e),this.addressBytes=e,this.addressHex=e.toString("hex")}getHex(){return this.addressHex}getBytes(){return this.addressBytes}getBech32(){return this.addressBech32}}t.ByronAddress=n,t.default=n},21989:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EnterpriseAddress=void 0;const a=s(48764),n=s(30023),i=r(s(94483));class o extends i.default{constructor(e,t){super(e,t),this.computeHex()}computeHex(){let e=96;if(this._paymentCredential.type===n.HashType.ADDRESS);else if(this._paymentCredential.type===n.HashType.SCRIPT){e|=16}e|=this.networkId;const t=`${e.toString(16).padStart(2,"0")}${this._paymentCredential.hash}`;this.addressHex=t,this.addressBytes=a.Buffer.from(t,"hex"),this.addressBech32=this.computeBech32(this.addressBytes)}}t.EnterpriseAddress=o,t.default=o},69105:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PointerAddress=void 0;const a=s(48764),n=s(30023),i=r(s(94483));class o extends i.default{constructor(e,t,s){super(e,t),this._vlq=s,this.computeHex()}computeHex(){let e=64;if(this._paymentCredential.type===n.HashType.ADDRESS);else if(this._paymentCredential.type===n.HashType.SCRIPT){e|=16}e|=this.networkId;const t=`${e.toString(16).padStart(2,"0")}${this._paymentCredential.hash}${this._vlq}`;this.addressHex=t,this.addressBytes=a.Buffer.from(t,"hex"),this.addressBech32=this.computeBech32(this.addressBytes)}}t.PointerAddress=o,t.default=o},67452:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RewardAddress=void 0;const r=s(48764),a=s(27715),n=s(30023);class i{constructor(e,t){this.addressHex="",this.addressBytes=r.Buffer.alloc(0),this.addressBech32="",this._stakeCredential=t,this.networkId=e,this.computeHex()}computeBech32(e){const t=this.networkId===n.NetworkId.MAINNET?"stake":"stake_test",s=a.bech32.toWords(e);return a.bech32.encode(t,s,1e3)}computeHex(){let e=224;if(this._stakeCredential.type===n.HashType.ADDRESS);else if(this._stakeCredential.type===n.HashType.SCRIPT){e|=16}e|=this.networkId;const t=`${e.toString(16).padStart(2,"0")}${this._stakeCredential.hash}`;this.addressHex=t,this.addressBytes=r.Buffer.from(t,"hex"),this.addressBech32=this.computeBech32(this.addressBytes)}get stakeCredential(){return this._stakeCredential}getHex(){return this.addressHex}getBytes(){return this.addressBytes}getBech32(){return this.addressBech32}getNetworkId(){return this.networkId}}t.RewardAddress=i,t.default=i},94483:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShelleyTypeAddress=void 0;const r=s(48764),a=s(27715),n=s(30023);class i{constructor(e,t){this.addressHex="",this.addressBytes=r.Buffer.alloc(0),this.addressBech32="",this.networkId=e,this._paymentCredential=t}computeBech32(e){const t=this.networkId===n.NetworkId.MAINNET?"addr":"addr_test",s=a.bech32.toWords(e);return a.bech32.encode(t,s,1e3)}get paymentCredential(){return this._paymentCredential}getHex(){return this.addressHex}getBytes(){return this.addressBytes}getBech32(){return this.addressBech32}getNetworkId(){return this.networkId}}t.ShelleyTypeAddress=i,t.default=i},53604:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RewardAddress=t.PointerAddress=t.EnterpriseAddress=t.ByronAddress=t.BaseAddress=void 0;var r=s(97801);Object.defineProperty(t,"BaseAddress",{enumerable:!0,get:function(){return r.BaseAddress}});var a=s(5027);Object.defineProperty(t,"ByronAddress",{enumerable:!0,get:function(){return a.ByronAddress}});var n=s(21989);Object.defineProperty(t,"EnterpriseAddress",{enumerable:!0,get:function(){return n.EnterpriseAddress}});var i=s(69105);Object.defineProperty(t,"PointerAddress",{enumerable:!0,get:function(){return i.PointerAddress}});var o=s(67452);Object.defineProperty(t,"RewardAddress",{enumerable:!0,get:function(){return o.RewardAddress}})},31617:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.maxTokenAmount=void 0,t.maxTokenAmount="9223372036854775807"},59528:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var a=Object.getOwnPropertyDescriptor(t,s);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,a)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PlutusDataFactory=t.NativeScriptFactory=t.address=t.Transaction=t.types=t.utils=t.crypto=void 0,t.crypto=n(s(73678)),t.utils=n(s(66397)),t.types=n(s(30023));var i=s(89779);Object.defineProperty(t,"Transaction",{enumerable:!0,get:function(){return i.Transaction}}),t.address=n(s(53604));var o=s(23117);Object.defineProperty(t,"NativeScriptFactory",{enumerable:!0,get:function(){return o.NativeScriptFactory}});var u=s(92383);Object.defineProperty(t,"PlutusDataFactory",{enumerable:!0,get:function(){return u.PlutusDataFactory}})},77067:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedeemerTag=void 0,function(e){e[e.SPEND=0]="SPEND",e[e.MINT=1]="MINT",e[e.CERT=2]="CERT",e[e.REWARD=3]="REWARD"}(t.RedeemerTag||(t.RedeemerTag={}))},23117:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var a=Object.getOwnPropertyDescriptor(t,s);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,a)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.NativeScriptFactory=void 0;const i=s(48764),o=n(s(47730)),u=s(73678),c=s(66171);class d{constructor(e){this.nativeScript=e;const t=(0,c.encodeNativeScript)(e);this._cbor=o.Encoder.encode(t),this._policyId=(0,u.hash28)(i.Buffer.from(`00${this._cbor.toString("hex")}`,"hex"))}cbor(){return this._cbor}policyId(){return this._policyId}json(){return this.nativeScript}}t.NativeScriptFactory=d,t.default=d},92383:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var a=Object.getOwnPropertyDescriptor(t,s);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,a)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return a(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.PlutusDataFactory=void 0;const i=n(s(47730)),o=s(73678),u=s(66171);t.PlutusDataFactory=class{constructor(e){this.plutusData=e;const t=(0,u.encodePlutusData)(e);this._cbor=i.Encoder.encode(t),this._plutusDataHash=(0,o.hash32)(this._cbor)}cbor(){return this._cbor}plutusDataHash(){return this._plutusDataHash}json(){return this.plutusData}}},89779:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var a=Object.getOwnPropertyDescriptor(t,s);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,a)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transaction=void 0;const o=s(48764),u=n(s(47730)),c=i(s(44431)),d=i(s(96486)),l=s(62027),p=s(30023),h=s(66171),f=s(73678),y=s(66397),m=i(s(19677)),T=s(99494);class g{constructor({protocolParams:e}){this.inputs=[],this.outputs=[],this.certificates=[],this.withdrawals=[],this.requiredWitnesses=new Map,this.requiredNativeScriptWitnesses=new Map,this.fee=new c.default(5e6),this.witnesses=[],this.plutusScriptMap=new Map,this.nativeScriptList=[],this.collaterals=[],this.requiredSigners=new Map,this.plutusDataList=[],this._isPlutusTransaction=!1,this.mints=[],this._protocolParams=e}get protocolParams(){return this._protocolParams}getTTL(){return this.ttl}setTTL(e){this.ttl=e}getValidityIntervalStart(){return this.validityIntervalStart}setValidityIntervalStart(e){this.validityIntervalStart=e}addInput(e){if(e.address.paymentCredential.type===p.HashType.ADDRESS)this.requiredWitnesses.set(e.address.paymentCredential.hash,e.address.paymentCredential.bipPath);else if(e.address.paymentCredential.type===p.HashType.SCRIPT)if(e.address.paymentCredential.plutusScript)this._isPlutusTransaction=!0,this.plutusScriptMap.set(e.address.paymentCredential.plutusScript.cborHex,e.address.paymentCredential.plutusScript.type);else if(e.address.paymentCredential.nativeScript){const t=e.address.paymentCredential.nativeScript,s=(0,l.getPubKeyHashListFromNativeScript)(t);for(const e of s)this.requiredNativeScriptWitnesses.set(e,void 0);this.nativeScriptList.push(t)}e.plutusData&&this.plutusDataList.push(e.plutusData),this.inputs.push(e)}addRequiredSigner(e){this.requiredSigners.set(e.hash,e.bipPath)}addCollateral(e){e.address.paymentCredential.type===p.HashType.ADDRESS&&this.requiredWitnesses.set(e.address.paymentCredential.hash,e.address.paymentCredential.bipPath),this.collaterals.push(e)}addMint(e){if(this.mints.push(e),e.plutusScript)this._isPlutusTransaction=!0,this.plutusScriptMap.set(e.plutusScript.cborHex,e.plutusScript.type);else if(e.nativeScript){const t=(0,l.getPubKeyHashListFromNativeScript)(e.nativeScript);for(const e of t)this.requiredNativeScriptWitnesses.set(e,void 0);this.nativeScriptList.push(e.nativeScript)}}addCertificate(e){e.certType===p.CertificateType.STAKE_DELEGATION?e.stakeCredential.type===p.HashType.ADDRESS&&this.requiredWitnesses.set(e.stakeCredential.hash,e.stakeCredential.bipPath):e.certType===p.CertificateType.STAKE_DE_REGISTRATION&&e.stakeCredential.type===p.HashType.ADDRESS&&this.requiredWitnesses.set(e.stakeCredential.hash,e.stakeCredential.bipPath),this.certificates.push(e)}addOutput(e){const t=e;if(t.tokens=(0,l.sortTokens)(t.tokens),t.plutusData){const e=u.Encoder.encode((0,h.encodePlutusData)(t.plutusData));t.plutusDataHash=(0,f.hash32)(e).toString("hex")}this.outputs.push(t),t.plutusData&&this.plutusDataList.push(t.plutusData)}addWithdrawal(e){e.rewardAccount.stakeCredential.type===p.HashType.ADDRESS&&this.requiredWitnesses.set(e.rewardAccount.stakeCredential.hash,e.rewardAccount.stakeCredential.bipPath),this.withdrawals.push(e)}transactionBody({extraOutputs:e,scriptDataHash:t}){const s=new Map;s.set(p.TransactionBodyItemType.INPUTS,(0,h.encodeInputs)(this.inputs));let r=this.outputs;if(e&&e.length>0&&(r=r.concat(e)),s.set(p.TransactionBodyItemType.OUTPUTS,(0,h.encodeOutputs)(r)),s.set(p.TransactionBodyItemType.FEE,this.fee),void 0!==this.ttl&&s.set(p.TransactionBodyItemType.TTL,this.ttl),void 0!==this.validityIntervalStart&&s.set(p.TransactionBodyItemType.VALIDITY_INTERVAL_START,this.validityIntervalStart),this.certificates.length>0&&s.set(p.TransactionBodyItemType.CERTIFICATES,(0,h.encodeCertificates)(this.certificates)),this.withdrawals.length>0&&s.set(p.TransactionBodyItemType.WITHDRAWALS,(0,h.encodeWithdrawals)(this.withdrawals)),this.auxiliaryData){const e=(0,h.encodeAuxiliaryData)(this.auxiliaryData),t=u.Encoder.encode(e),r=(0,f.hash32)(t);s.set(p.TransactionBodyItemType.AUXILIARY_DATA_HASH,r)}d.default.isEmpty(this.mints)||s.set(p.TransactionBodyItemType.MINT,(0,h.encodeMint)(this.mints)),t&&s.set(p.TransactionBodyItemType.SCRIPT_DATA_HASH,t),d.default.isEmpty(this.collaterals)||s.set(p.TransactionBodyItemType.COLLATERAL_INPUTS,(0,h.encodeCollaterals)(this.collaterals));const a=Array.from(this.requiredSigners.keys());return d.default.isEmpty(a)||s.set(p.TransactionBodyItemType.REQUIRED_SIGNERS,a.map((e=>o.Buffer.from(e,"hex")))),s}transactionFee(e){return new c.default(e).times(this._protocolParams.minFeeA).plus(this._protocolParams.minFeeB).integerValue(c.default.ROUND_CEIL)}contractFee(){let e=0,t=0;for(const s of this.inputs)s.redeemer&&(e+=s.redeemer.exUnits.mem,t+=s.redeemer.exUnits.steps);for(const s of this.mints)s.redeemer&&(e+=s.redeemer.exUnits.mem,t+=s.redeemer.exUnits.steps);const s=new c.default(e).times(this._protocolParams.priceMem),r=new c.default(t).times(this._protocolParams.priceSteps);return s.plus(r).integerValue(c.default.ROUND_CEIL)}calculateTxSize(e){const t=new Map;for(const[e,s]of this.requiredNativeScriptWitnesses.entries())t.set(e,s);for(const[e,s]of this.requiredSigners.entries())t.set(e,s);for(const[e,s]of this.requiredWitnesses.entries())t.set(e,s);const s=[];for(const[e]of Array.from(t.keys()).entries())s.push({publicKey:o.Buffer.alloc(32,e),signature:o.Buffer.alloc(64)});const r=(0,h.encodeWitnesses)(s,this.inputs,this.plutusDataList,this.plutusScriptMap,this.nativeScriptList,this.mints),a=(0,l.generateScriptDataHash)(r,this._protocolParams.languageView),n=[this.transactionBody({extraOutputs:e,scriptDataHash:a}),r,!0,this.auxiliaryData?(0,h.encodeAuxiliaryData)(this.auxiliaryData):null];return u.Encoder.encode(n).length}calculateFee(e){const t=this.calculateTxSize(e),s=this.transactionFee(t),r=this.contractFee();return s.plus(r)}setFee(e){this.fee=e}getFee(){return this.fee}calculateMinUtxoAmount(e,t){return(0,y.calculateMinUtxoAmount)(e,this._protocolParams.lovelacePerUtxoWord,t)}addWitness(e){this.witnesses.push(e)}getTransactionHash(){const e=(0,h.encodeWitnesses)(this.witnesses,this.inputs,this.plutusDataList,this.plutusScriptMap,this.nativeScriptList,this.mints),t=(0,l.generateScriptDataHash)(e,this._protocolParams.languageView),s=this.transactionBody({scriptDataHash:t}),r=u.Encoder.encode(s);return(0,f.hash32)(r)}getAuxiliaryData(){return this.auxiliaryData}getAuxiliaryDataHashHex(){if(this.auxiliaryData){const e=(0,h.encodeAuxiliaryData)(this.auxiliaryData),t=u.Encoder.encode(e);return(0,f.hash32)(t).toString("hex")}}buildTransaction(){const e=(0,h.encodeWitnesses)(this.witnesses,this.inputs,this.plutusDataList,this.plutusScriptMap,this.nativeScriptList,this.mints),t=(0,l.generateScriptDataHash)(e,this._protocolParams.languageView),s=this.transactionBody({scriptDataHash:t}),r=[s,e,!0,this.auxiliaryData?(0,h.encodeAuxiliaryData)(this.auxiliaryData):null],a=u.Encoder.encode(r),n=u.Encoder.encode(s);return{hash:(0,f.hash32)(n).toString("hex"),payload:a.toString("hex")}}getInputs(){return this.inputs}getCertificates(){return this.certificates}getMints(){const e=[];for(const t of this.mints)for(const s of t.assets)e.push({policyId:t.policyId,assetName:s.assetName,amount:s.amount});const t=(0,l.sortTokens)(e);return(0,d.default)(t).groupBy((e=>e.policyId)).map(((e,t)=>({policyId:t,assets:e.map((e=>({assetName:e.assetName,amount:e.amount})))}))).value()}getMintTokens(){const e=[];for(const t of this.mints)for(const s of t.assets)s.amount.isPositive()&&e.push({policyId:t.policyId,assetName:s.assetName,amount:s.amount});return e}getBurnTokens(){const e=[];for(const t of this.mints)for(const s of t.assets)s.amount.isNegative()&&e.push({policyId:t.policyId,assetName:s.assetName,amount:s.amount.abs()});return e}getInputAmount(){let e=[],t=new c.default(0);return d.default.forEach(this.inputs,(s=>{e=e.concat(s.tokens),t=t.plus(s.amount)})),e=d.default.concat(e,this.getMintTokens()),{ada:t,tokens:(0,l.getUniqueTokens)(e)}}getCollaterals(){return this.collaterals}getScriptIntegrityHash(){const e=(0,h.encodeWitnesses)(this.witnesses,this.inputs,this.plutusDataList,this.plutusScriptMap,this.nativeScriptList,this.mints);return(0,l.generateScriptDataHash)(e,this._protocolParams.languageView)}getCollateralAmount(){return this.collaterals.reduce(((e,t)=>e.plus(t.amount)),new c.default(0))}getOutputs(){return this.outputs}getOutputAmount(){let e=[],t=new c.default(0);return d.default.forEach(this.outputs,(s=>{e=e.concat(s.tokens),t=t.plus(s.amount)})),e=d.default.concat(e,this.getBurnTokens()),{ada:t,tokens:(0,l.getUniqueTokens)(e)}}getAdditionalOutputAda(){return d.default.reduce(this.certificates,((e,t)=>t.certType===p.CertificateType.STAKE_REGISTRATION?e.plus(this._protocolParams.stakeKeyDeposit):e),new c.default(0))}getAdditionalInputAda(){const e=d.default.reduce(this.certificates,((e,t)=>t.certType===p.CertificateType.STAKE_DE_REGISTRATION?e.plus(this._protocolParams.stakeKeyDeposit):e),new c.default(0)),t=d.default.reduce(this.withdrawals,((e,t)=>e.plus(t.amount)),new c.default(0));return e.plus(t)}getWithdrawals(){return this.withdrawals}getRequiredWitnesses(){return this.requiredWitnesses}getRequiredNativeScriptWitnesses(){return this.requiredNativeScriptWitnesses}getRequiredSigners(){return this.requiredSigners}setAuxiliaryData(e){this.auxiliaryData=e}isPlutusTransaction(){return this._isPlutusTransaction}prepareTransaction({inputs:e,changeAddress:t,collateralInputs:s=[]}){return(0,m.default)({transaction:this,inputs:e,changeAddress:t,collateralInputs:s})}paymentTransaction({inputs:e,outputs:t,changeAddress:s,auxiliaryData:r,ttl:a}){return(0,T.paymentTransaction)({inputs:e,outputs:t,changeAddress:s,auxiliaryData:r,ttl:a,protocolParams:this.protocolParams})}}t.Transaction=g,t.default=g},99494:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.paymentTransaction=void 0;const a=r(s(89779));t.paymentTransaction=({inputs:e,outputs:t,changeAddress:s,auxiliaryData:r,ttl:n,protocolParams:i})=>{const o=new a.default({protocolParams:i});return t.forEach((e=>{o.addOutput(e)})),o.setTTL(n),r&&o.setAuxiliaryData(r),o.prepareTransaction({inputs:e,changeAddress:s})},t.default=t.paymentTransaction},19677:function(e,t,s){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.transactionBuilder=void 0;const a=r(s(44431)),n=s(96486),i=s(62027),o=s(66397);function u({transaction:e,inputs:t,changeAddress:s,collateralInputs:r=[]}){const u=t=>{const s=e.getCollateralAmount(),r=t.times(e.protocolParams.collateralPercent).div(100);if(e.isPlutusTransaction()&&s.lt(r))throw new Error("Not enough collateral supplied, collaterals with tokens are not valid collaterals")},c=t=>{if(r&&r.length>0){const s=e.getCollateralAmount(),a=t.times(e.protocolParams.collateralPercent).div(100);for(;s.lt(a)&&r.length>0;){const t=r.pop();t&&e.addCollateral(t)}}},d=(0,o.calculateMinUtxoAmount)([],new a.default(e.protocolParams.lovelacePerUtxoWord)),l=n.cloneDeep(t);if(l.length>0){const t=l.splice(0,1)[0];e.addInput(t)}const p=r.pop();p&&e.addCollateral(p);for(const t of l){const{ada:r,tokens:n}=e.getInputAmount(),{ada:u,tokens:l}=e.getOutputAmount(),p=e.getAdditionalOutputAda(),h=e.getAdditionalInputAda();let f=e.calculateFee();c(f),f=e.calculateFee();const y=r.plus(h),m=u.plus(p).plus(f),T=(0,i.getTokenDiff)(n,l);if(0===T.length){if(y.eq(m))break;if(y.gt(m)){const t=y.minus(u.plus(p));if(t.gt(d)){let r=e.calculateFee([{address:s,amount:t,tokens:[]}]);if(c(f),r=e.calculateFee([{address:s,amount:t,tokens:[]}]),t.gte(r.plus(d)))break}}}else if(!T.some((({amount:e})=>e.lt(0)))){const t=(0,o.getMaximumTokenSets)(T),r=[];let n=y.minus(u.plus(p)),i=new a.default(0);for(const[u,d]of t.entries()){const l=(0,o.calculateMinUtxoAmount)(d,new a.default(e.protocolParams.lovelacePerUtxoWord));let p=l;if(u===t.length-1){let t=e.calculateFee([...r,{address:s,amount:n.lt(l)?l:n,tokens:d}]);c(t),t=e.calculateFee([...r,{address:s,amount:n.lt(l)?l:n,tokens:d}]);const a=l.plus(t);n.gte(a)?p=n:i=i.plus(a.minus(n))}else n.gte(l)?n=n.minus(l):i=i.plus(l.minus(n));r.push({address:s,amount:p,tokens:d})}if(i.eq(0))break}e.addInput(t)}const{ada:h,tokens:f}=e.getInputAmount(),{ada:y,tokens:m}=e.getOutputAmount(),T=e.getAdditionalOutputAda(),g=e.getAdditionalInputAda(),_=h.plus(g),S=y.plus(T),A=(0,i.getTokenDiff)(f,m);if(0===A.length){const t=e.calculateFee(),r=S.plus(t);if(_.eq(r))e.setFee(t),u(t);else{if(!_.gt(r))throw new Error("Not enough ADA");{const r=_.minus(S);if(r.gt(d.plus(t))){const t=e.calculateFee([{address:s,amount:r,tokens:[]}]);u(t),e.setFee(t),e.addOutput({address:s,amount:r.minus(t),tokens:[]})}else e.setFee(r)}}}else{if(A.some((({amount:e})=>e.lt(0))))throw new Error("Not enough tokens");{const t=(0,o.getMaximumTokenSets)(n.clone(A)),r=[];{let n=_.minus(S);t.forEach(((i,u)=>{const c=(0,o.calculateMinUtxoAmount)(i,new a.default(e.protocolParams.lovelacePerUtxoWord));let d=c;if(u===t.length-1){const t=e.calculateFee([...r,{address:s,amount:n.lt(c)?c:n,tokens:i}]),a=c.plus(t);if(!n.gte(a))throw new Error("Not enough ADA");d=n}else{if(!n.gte(c))throw new Error("Not enough ADA");n=n.minus(c)}r.push({address:s,amount:d,tokens:i})}))}const i=e.calculateFee(r);u(i),e.setFee(i);let c=_.minus(S).minus(i);t.forEach(((r,n)=>{const i=(0,o.calculateMinUtxoAmount)(r,new a.default(e.protocolParams.lovelacePerUtxoWord));let u=i;n===t.length-1?u=c:c.gte(i)&&(c=c.minus(i)),e.addOutput({address:s,amount:u,tokens:r})}))}}const v=e.calculateTxSize();if(e.protocolParams.maxTxSize&&v>e.protocolParams.maxTxSize)throw new Error("Tx size limit reached, try spending lesser ADA/Tokens");return e}t.transactionBuilder=u,t.default=u},30023:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransactionBodyItemType=t.NetworkId=t.WitnessType=t.CertificateType=t.PlutusScriptType=t.HashType=void 0,function(e){e[e.ADDRESS=0]="ADDRESS",e[e.SCRIPT=1]="SCRIPT"}(t.HashType||(t.HashType={})),function(e){e.PlutusScriptV1="PlutusScriptV1"}(t.PlutusScriptType||(t.PlutusScriptType={})),function(e){e[e.STAKE_REGISTRATION=0]="STAKE_REGISTRATION",e[e.STAKE_DE_REGISTRATION=1]="STAKE_DE_REGISTRATION",e[e.STAKE_DELEGATION=2]="STAKE_DELEGATION"}(t.CertificateType||(t.CertificateType={})),function(e){e[e.V_KEY_WITNESS=0]="V_KEY_WITNESS",e[e.NATIVE_SCRIPT=1]="NATIVE_SCRIPT",e[e.PLUTUS_SCRIPT=3]="PLUTUS_SCRIPT",e[e.PLUTUS_DATA=4]="PLUTUS_DATA",e[e.REDEEMER=5]="REDEEMER"}(t.WitnessType||(t.WitnessType={})),function(e){e[e.MAINNET=1]="MAINNET",e[e.TESTNET=0]="TESTNET"}(t.NetworkId||(t.NetworkId={})),function(e){e[e.INPUTS=0]="INPUTS",e[e.OUTPUTS=1]="OUTPUTS",e[e.FEE=2]="FEE",e[e.TTL=3]="TTL",e[e.CERTIFICATES=4]="CERTIFICATES",e[e.WITHDRAWALS=5]="WITHDRAWALS",e[e.AUXILIARY_DATA_HASH=7]="AUXILIARY_DATA_HASH",e[e.VALIDITY_INTERVAL_START=8]="VALIDITY_INTERVAL_START",e[e.MINT=9]="MINT",e[e.SCRIPT_DATA_HASH=11]="SCRIPT_DATA_HASH",e[e.COLLATERAL_INPUTS=13]="COLLATERAL_INPUTS",e[e.REQUIRED_SIGNERS=14]="REQUIRED_SIGNERS"}(t.TransactionBodyItemType||(t.TransactionBodyItemType={}))},73678:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hash28=t.hash32=void 0;const r=s(48764),a=s(1191);t.hash32=e=>{const t=(0,a.blake2b)(e,void 0,32);return r.Buffer.from(t)};t.hash28=e=>{const t=(0,a.blake2b)(e,void 0,28);return r.Buffer.from(t)}},66171:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var a=Object.getOwnPropertyDescriptor(t,s);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,a)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.encodeNativeScript=t.encodeLanguageViews=t.encodePlutusData=t.encodeAuxiliaryData=t.encodeMetadata=t.encodeWitnesses=t.encodeVKeyWitness=t.encodeCertificates=t.encodeStakeDelegationCertificate=t.encodeStakeDeRegistrationCertificate=t.encodeStakeRegistrationCertificate=t.encodeWithdrawals=t.encodeOutputs=t.encodeOutput=t.encodeMint=t.encodeOutputTokens=t.encodeCollaterals=t.encodeInputs=void 0;const o=s(48764),u=n(s(47730)),c=i(s(44431)),d=i(s(96486)),l=s(30023),p=s(62027),h=s(73678),f=s(77067);t.encodeInputs=e=>e.map((e=>[o.Buffer.from(e.txId,"hex"),e.index]));t.encodeCollaterals=e=>e.map((e=>[o.Buffer.from(e.txId,"hex"),e.index]));t.encodeOutputTokens=e=>{const t=new Map,s=(0,d.default)(e).groupBy((({policyId:e})=>e)).value();return d.default.forEach(s,((e,s)=>{const r=new Map;e.forEach((({assetName:e,amount:t})=>{r.set(o.Buffer.from(e,"hex"),t)})),t.set(o.Buffer.from(s,"hex"),r)})),t};t.encodeMint=e=>{const t=new Map;for(const s of e){const e=new Map;s.assets.forEach((({assetName:t,amount:s})=>{e.set(o.Buffer.from(t,"hex"),s)})),t.set(o.Buffer.from(s.policyId,"hex"),e)}return t};t.encodeOutput=e=>{const s=e.tokens.length>0?[e.amount,(0,t.encodeOutputTokens)(e.tokens)]:e.amount,r=[e.address.getBytes(),s],a=e.plutusDataHash?o.Buffer.from(e.plutusDataHash,"hex"):void 0;return a&&r.push(a),r};t.encodeOutputs=e=>e.map((e=>(0,t.encodeOutput)(e)),[]);t.encodeWithdrawals=e=>{const t=new Map;return e.forEach((e=>{const s=e.rewardAccount.getBytes();t.set(s,e.amount)})),t};t.encodeStakeRegistrationCertificate=e=>{const t=o.Buffer.from(e.stakeCredential.hash,"hex"),s=[e.stakeCredential.type,t];return[l.CertificateType.STAKE_REGISTRATION,s]};t.encodeStakeDeRegistrationCertificate=e=>{const t=o.Buffer.from(e.stakeCredential.hash,"hex"),s=[e.stakeCredential.type,t];return[l.CertificateType.STAKE_DE_REGISTRATION,s]};t.encodeStakeDelegationCertificate=e=>{const t=o.Buffer.from(e.stakeCredential.hash,"hex"),s=[e.stakeCredential.type,t],r=o.Buffer.from(e.poolHash,"hex");return[l.CertificateType.STAKE_DELEGATION,s,r]};t.encodeCertificates=e=>{const s=[];return e.forEach((e=>{switch(e.certType){case l.CertificateType.STAKE_REGISTRATION:s.push((0,t.encodeStakeRegistrationCertificate)(e));break;case l.CertificateType.STAKE_DE_REGISTRATION:s.push((0,t.encodeStakeDeRegistrationCertificate)(e));break;case l.CertificateType.STAKE_DELEGATION:s.push((0,t.encodeStakeDelegationCertificate)(e));break;default:throw new Error("unsupported certificate type")}})),s};t.encodeVKeyWitness=e=>{const t=new Map;for(const s of e)t.set(s.publicKey.toString("hex"),s.signature);const s=[];for(const[e,r]of t)s.push([o.Buffer.from(e,"hex"),r]);return s};t.encodeWitnesses=(e,s,r,a,n,i)=>{const c=new Map;e.length>0&&c.set(l.WitnessType.V_KEY_WITNESS,(0,t.encodeVKeyWitness)(e));const p=d.default.orderBy(s,["txId","index"],["asc","asc"]),y=d.default.orderBy(i,["policyId"],["asc"]),m=[],T=new Map;for(const e of r){const s=(0,t.encodePlutusData)(e),r=u.Encoder.encode(s),a=(0,h.hash32)(r);T.set(a.toString("hex"),s)}for(const[e,s]of p.entries())if(s.redeemer){const r=(0,t.encodePlutusData)(s.redeemer.plutusData);m.push([f.RedeemerTag.SPEND,e,r,[s.redeemer.exUnits.mem,s.redeemer.exUnits.steps]])}for(const[e,s]of y.entries())if(s.plutusScript&&s.redeemer){const r=(0,t.encodePlutusData)(s.redeemer.plutusData);m.push([f.RedeemerTag.MINT,e,r,[s.redeemer.exUnits.mem,s.redeemer.exUnits.steps]])}const g=[];for(const[,e]of T)g.push(e);const _=[];for(const[e,t]of a){if(t!==l.PlutusScriptType.PlutusScriptV1)throw new Error("Unsupported PlutusScript Version");{const t=u.Decoder.decode(o.Buffer.from(e,"hex"));_.push(t.value)}}_.length&&c.set(l.WitnessType.PLUTUS_SCRIPT,_);const S=new Map;for(const e of n){const s=(0,t.encodeNativeScript)(e),r=u.Encoder.encode(s);S.set(r.toString("hex"),s)}const A=[];for(const[,e]of S)A.push(e);return A.length&&c.set(l.WitnessType.NATIVE_SCRIPT,A),g.length&&c.set(l.WitnessType.PLUTUS_DATA,g),m.length&&c.set(l.WitnessType.REDEEMER,m),c};t.encodeMetadata=e=>{const t=new Map;for(const s of e)t.set(s.label,(0,p.sanitizeMetadata)(s.data));return t};t.encodeAuxiliaryData=e=>{const s=(0,t.encodeMetadata)(e.metadata),r=new Map;return r.set(0,s),new u.CborTag(r,259)};const y=["constructor","fields"];t.encodePlutusData=e=>{if(e instanceof Array){if(e.length>0){const s=new u.IndefiniteArray;for(const r of e)s.push((0,t.encodePlutusData)(r));return s}return[]}if(e instanceof Uint8Array)return o.Buffer.from(e);if(e instanceof o.Buffer)return e;if("string"==typeof e)throw new Error("String not supported in PlutusData");if(e instanceof Map){if(e.size>0){const s=new u.IndefiniteMap;for(const[r,a]of e.entries())s.set(r,(0,t.encodePlutusData)(a));return s}return new Map}if(c.default.isBigNumber(e))return e;if(e instanceof Object){return(e=>{if(!(Object.keys(e).every((e=>y.includes(e)))&&e.fields instanceof Array))throw new Error("Invalid PlutusData supplied");let s=[];if(e.fields.length>0){s=new u.IndefiniteArray;for(const r of e.fields)s.push((0,t.encodePlutusData)(r))}if(e.constructor<7)return new u.CborTag(s,121+e.constructor);if(e.constructor>6&&e.constructor<128){const t=e.constructor-7;return new u.CborTag(s,1280+t)}return new u.CborTag([e.constructor,s],102)})(e)}return e};t.encodeLanguageViews=(e,t)=>{const s=new Map;if(t&&t.length>0){const t=(0,d.default)(e.PlutusScriptV1).map(((e,t)=>({key:t,value:e}))).orderBy(["key"],["asc"]).map((e=>e.value)).value(),r=u.IndefiniteArray.from(t),a=u.Encoder.encode(r),n=u.Encoder.encode(0);s.set(n,a)}return u.Encoder.encode(s).toString("hex")};const m=e=>{const s=[];for(const r of e)s.push((0,t.encodeNativeScript)(r));return s};t.encodeNativeScript=e=>{if(e.pubKeyHash)return[0,o.Buffer.from(e.pubKeyHash,"hex")];if(e.all)return[1,m(e.all)];if(e.any)return[2,m(e.any)];if(e.n)return[3,e.n,m(e.k)];if(e.invalidBefore)return[4,e.invalidBefore];if(e.invalidAfter)return[5,e.invalidAfter];throw new Error("Invalid native script")}},62027:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var a=Object.getOwnPropertyDescriptor(t,s);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,a)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getPubKeyHashListFromNativeScript=t.generateScriptDataHash=t.sortTokens=t.compareCanonically=t.sanitizeMetadata=t.getTokenDiff=t.getUniqueTokens=void 0;const o=s(48764),u=n(s(47730)),c=i(s(44431)),d=i(s(96486)),l=s(66171),p=s(30023),h=s(73678);t.getUniqueTokens=e=>(0,d.default)(e).groupBy((({policyId:e})=>e)).map(((e,t)=>(0,d.default)(e).groupBy((({assetName:e})=>e)).map(((e,s)=>({policyId:t,assetName:s,amount:e.reduce(((e,t)=>e.plus(t.amount)),new c.default(0))}))).value())).flatten().value();t.getTokenDiff=(e,s)=>{const r=d.default.map(s,(e=>Object.assign(Object.assign({},e),{amount:e.amount.negated()})));return(0,t.getUniqueTokens)(e.concat(r)).filter((e=>e.amount.abs().gt(0)))};t.sanitizeMetadata=e=>{if(e instanceof Array){const s=[];for(const r of e)s.push((0,t.sanitizeMetadata)(r));return s}if("string"==typeof e||e instanceof o.Buffer){if(e.length>64)throw new Error("string or buffer length invalid");return e}if(e instanceof Map){const s=new Map;for(const[r,a]of e.entries())s.set(r,(0,t.sanitizeMetadata)(a));return s}if(e instanceof Object){const s=new Map;for(const[r,a]of Object.entries(e))s.set(r,(0,t.sanitizeMetadata)(a));return s}return e};t.compareCanonically=(e,t)=>e.length!==t.length?e.length-t.length:(e=e.toLowerCase())<(t=t.toLowerCase())?-1:e>t?1:0;t.sortTokens=e=>(0,d.default)(e).orderBy(["policyId","assetName"],["asc","asc"]).sort(((e,s)=>(0,t.compareCanonically)(e.assetName,s.assetName))).sort(((e,s)=>(0,t.compareCanonically)(e.policyId,s.policyId))).value();t.generateScriptDataHash=(e,t)=>{const s=e.get(p.WitnessType.PLUTUS_DATA),r=e.get(p.WitnessType.REDEEMER);if(s||r){const a=e.get(p.WitnessType.PLUTUS_SCRIPT),n=(0,l.encodeLanguageViews)(t,a),i=(null==s?void 0:s.length)?u.Encoder.encode(s).toString("hex"):"",c=r?u.Encoder.encode(r).toString("hex"):u.Encoder.encode([]).toString("hex"),d=o.Buffer.from(c+i+n,"hex");return(0,h.hash32)(d)}};const f=e=>{let s=[];for(const r of e){const e=(0,t.getPubKeyHashListFromNativeScript)(r);s=d.default.concat(s,d.default.flatten(e))}return s};t.getPubKeyHashListFromNativeScript=e=>{let t=[];if(e.pubKeyHash)t.push(e.pubKeyHash);else if(e.all){const s=f(e.all);t=d.default.concat(t,d.default.flatten(s))}else if(e.any){const s=f(e.any);t=d.default.concat(t,d.default.flatten(s))}else if(e.n){const s=f(e.k);t=d.default.concat(t,d.default.flatten(s))}return t}},66397:function(e,t,s){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,s,r){void 0===r&&(r=s);var a=Object.getOwnPropertyDescriptor(t,s);a&&!("get"in a?!t.__esModule:a.writable||a.configurable)||(a={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,r,a)}:function(e,t,s,r){void 0===r&&(r=s),e[r]=t[s]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var s in e)"default"!==s&&Object.prototype.hasOwnProperty.call(e,s)&&r(t,e,s);return a(t,e),t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createPlutusDataCbor=t.createAuxiliaryDataCbor=t.getMaximumTokenSets=t.getAddressFromBech32=t.decodeBech32=t.getAddressFromHex=t.calculateMinUtxoAmount=void 0;const o=s(48764),u=n(s(47730)),c=i(s(44431)),d=s(96486),l=i(s(15177)),p=s(27715),h=s(31617),f=i(s(97801)),y=i(s(5027)),m=i(s(21989)),T=i(s(69105)),g=s(62027),_=s(30023),S=i(s(67452)),A=s(66171);t.calculateMinUtxoAmount=(e,t,s)=>{const r=(0,g.getUniqueTokens)(e);let a=27;s&&(a+=10);const n=a+2,i=d(r).groupBy((({policyId:e})=>e)).value(),u=r.reduce(((e,t)=>(e[t.assetName]=!0,e)),{}),l=d.reduce(i,(e=>e+=1),0),p=d.reduce(u,((e,t,s)=>e+Math.max(o.Buffer.from(s,"hex").length,1)),0),h=6+(f=12*r.length+p+28*l,Math.floor((f+7)/8));var f;const y=t.toNumber()*n;if(0===r.length)return new c.default(y);const m=t.toNumber()*(a+h);return c.default.max(y,m)};t.getAddressFromHex=e=>{const t=e.toLowerCase().charAt(0),s=Number(e.toLowerCase().charAt(1));let r,a;switch(t){case"e":return r={hash:e.slice(2).slice(0,56),type:_.HashType.ADDRESS},new S.default(s,r);case"f":return r={hash:e.slice(2).slice(0,56),type:_.HashType.SCRIPT},new S.default(s,r);case"7":return a={hash:e.slice(2),type:_.HashType.SCRIPT},new m.default(s,a);case"6":return a={hash:e.slice(2),type:_.HashType.ADDRESS},new m.default(s,a);case"5":{a={hash:e.slice(2).slice(0,56),type:_.HashType.SCRIPT};const t=e.slice(2).slice(56);return new T.default(s,a,t)}case"4":{a={hash:e.slice(2).slice(0,56),type:_.HashType.ADDRESS};const t=e.slice(2).slice(56);return new T.default(s,a,t)}case"3":return a={hash:e.slice(2).slice(0,56),type:_.HashType.SCRIPT},r={hash:e.slice(2).slice(56),type:_.HashType.SCRIPT},new f.default(s,a,r);case"2":return a={hash:e.slice(2).slice(0,56),type:_.HashType.ADDRESS},r={hash:e.slice(2).slice(56),type:_.HashType.SCRIPT},new f.default(s,a,r);case"1":return a={hash:e.slice(2).slice(0,56),type:_.HashType.SCRIPT},r={hash:e.slice(2).slice(56),type:_.HashType.ADDRESS},new f.default(s,a,r);case"0":return a={hash:e.slice(2).slice(0,56),type:_.HashType.ADDRESS},r={hash:e.slice(2).slice(56),type:_.HashType.ADDRESS},new f.default(s,a,r);case"8":return new y.default(o.Buffer.from(e,"hex"));default:throw new Error("Unsupported address type")}};t.decodeBech32=e=>{const t=p.bech32.decode(e,114),s=p.bech32.fromWords(t.words),r=o.Buffer.from(s).toString("hex");return{prefix:t.prefix,value:r}};t.getAddressFromBech32=e=>{try{const t=o.Buffer.from(l.default.decode(e));try{u.Decoder.decode(t)}catch(e){throw new Error("Invalid Byron Address")}return new y.default(t)}catch(s){try{const s=(0,t.decodeBech32)(e);if("addr"===s.prefix||"addr_test"===s.prefix||"stake"===s.prefix||"stake_test"===s.prefix)return(0,t.getAddressFromHex)(s.value);throw new Error("Invalid Address")}catch(e){throw new Error("Invalid Address")}}};t.getMaximumTokenSets=e=>{const t=d.cloneDeep(e),s=[];for(;t.length>0;){const e=[],r=t.length;for(let s=0;s<r;s+=1){const s=t.pop();s.amount.lte(h.maxTokenAmount)?e.push(s):(e.push({assetName:s.assetName,policyId:s.policyId,amount:new c.default(h.maxTokenAmount)}),s.amount=s.amount.minus(h.maxTokenAmount),t.push(s))}s.push(e)}return s};t.createAuxiliaryDataCbor=e=>{const t=(0,A.encodeAuxiliaryData)(e);return u.Encoder.encode(t)};t.createPlutusDataCbor=e=>{const t=(0,A.encodePlutusData)(e);return u.Encoder.encode(t)}},45571:e=>{"use strict";e.exports=function(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),s=0;s<t.length;s++)t[s]=255;for(var r=0;r<e.length;r++){var a=e.charAt(r),n=a.charCodeAt(0);if(255!==t[n])throw new TypeError(a+" is ambiguous");t[n]=r}var i=e.length,o=e.charAt(0),u=Math.log(i)/Math.log(256),c=Math.log(256)/Math.log(i);function d(e){if("string"!=typeof e)throw new TypeError("Expected String");if(0===e.length)return new Uint8Array;for(var s=0,r=0,a=0;e[s]===o;)r++,s++;for(var n=(e.length-s)*u+1>>>0,c=new Uint8Array(n);e[s];){var d=t[e.charCodeAt(s)];if(255===d)return;for(var l=0,p=n-1;(0!==d||l<a)&&-1!==p;p--,l++)d+=i*c[p]>>>0,c[p]=d%256>>>0,d=d/256>>>0;if(0!==d)throw new Error("Non-zero carry");a=l,s++}for(var h=n-a;h!==n&&0===c[h];)h++;for(var f=new Uint8Array(r+(n-h)),y=r;h!==n;)f[y++]=c[h++];return f}return{encode:function(t){if(t instanceof Uint8Array||(ArrayBuffer.isView(t)?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):Array.isArray(t)&&(t=Uint8Array.from(t))),!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(0===t.length)return"";for(var s=0,r=0,a=0,n=t.length;a!==n&&0===t[a];)a++,s++;for(var u=(n-a)*c+1>>>0,d=new Uint8Array(u);a!==n;){for(var l=t[a],p=0,h=u-1;(0!==l||p<r)&&-1!==h;h--,p++)l+=256*d[h]>>>0,d[h]=l%i>>>0,l=l/i>>>0;if(0!==l)throw new Error("Non-zero carry");r=p,a++}for(var f=u-r;f!==u&&0===d[f];)f++;for(var y=o.repeat(s);f<u;++f)y+=e.charAt(d[f]);return y},decodeUnsafe:d,decode:function(e){var t=d(e);if(t)return t;throw new Error("Non-base"+i+" character")}}}},15177:(e,t,s)=>{const r=s(45571);e.exports=r("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")}}]);